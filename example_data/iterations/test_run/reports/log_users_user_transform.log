2022-09-20 23:14:33,903	Logging set up	user_transform	migration_task_base.py:207
2022-09-20 23:14:33,904	Mapping files folder is /home/theodor/code/migration_repo_template/mapping_files	user_transform	folder_structure.py:47
2022-09-20 23:14:33,904	Git ignore is set up correctly	user_transform	folder_structure.py:48
2022-09-20 23:14:33,905	Base folder is /home/theodor/code/migration_repo_template	user_transform	folder_structure.py:49
2022-09-20 23:14:33,905	Reports and logs folder is /home/theodor/code/migration_repo_template/iterations/test_run/reports	user_transform	folder_structure.py:50
2022-09-20 23:14:33,905	Results folder is /home/theodor/code/migration_repo_template/iterations/test_run/results	user_transform	folder_structure.py:51
2022-09-20 23:14:33,906	Data folder is /home/theodor/code/migration_repo_template/iterations/test_run/source_data	user_transform	folder_structure.py:52
2022-09-20 23:14:33,906	Source records files folder is /home/theodor/code/migration_repo_template/iterations/test_run/source_data/users	user_transform	folder_structure.py:53
2022-09-20 23:14:33,906	Log file will be located at /home/theodor/code/migration_repo_template/iterations/test_run/reports/log_users_user_transform.log	user_transform	folder_structure.py:54
2022-09-20 23:14:33,907	Extra data will be stored at/home/theodor/code/migration_repo_template/iterations/test_run/results/extradata_user_transform.extradata	user_transform	folder_structure.py:55
2022-09-20 23:14:33,907	Data issue reports /home/theodor/code/migration_repo_template/iterations/test_run/reports/data_issues_log_user_transform.tsv	user_transform	folder_structure.py:56
2022-09-20 23:14:33,908	Created objects will be stored at  /home/theodor/code/migration_repo_template/iterations/test_run/results/folio_users_user_transform.json	user_transform	folder_structure.py:57
2022-09-20 23:14:33,908	Migration report file will be saved at /home/theodor/code/migration_repo_template/iterations/test_run/reports/report_user_transform.md	user_transform	folder_structure.py:58
2022-09-20 23:14:33,909	MigrationTaskBase init done	user_transform	migration_task_base.py:66
2022-09-20 23:14:33,909	45 fields in mapping file map	user_transform	migration_task_base.py:212
2022-09-20 23:14:33,910	23 Mapped fields in mapping file map	user_transform	migration_task_base.py:218
2022-09-20 23:14:33,911	Found 2 rows in patronGroup map	user_transform	migration_task_base.py:254
2022-09-20 23:14:33,912	TYPE,folio_group will be used for determinig patronGroup	user_transform	migration_task_base.py:259
2022-09-20 23:14:33,913	/home/theodor/code/migration_repo_template/mapping_files not found. No departments mapping will be performed	user_transform	user_transformer.py:78
2022-09-20 23:14:33,914	MapperBase initiating	user_transform	mapper_base.py:27
2022-09-20 23:14:34,379	Fetched HRID settings.	user_transform	mapper_base.py:41
2022-09-20 23:14:34,380	Instance HRID prefix is ins	user_transform	mapper_base.py:42
2022-09-20 23:14:34,381	Instance start number is 1	user_transform	mapper_base.py:43
2022-09-20 23:14:34,381	Holdings HRID prefix is ins	user_transform	mapper_base.py:44
2022-09-20 23:14:34,381	Holdings start number is 1	user_transform	mapper_base.py:45
2022-09-20 23:14:34,382	Using GITHB_TOKEN environment variable for Gihub API Access	user_transform	FolioClient.py:229
2022-09-20 23:14:34,988	Using GITHB_TOKEN environment variable for Gihub API Access	user_transform	FolioClient.py:229
2022-09-20 23:14:35,629	Using GITHB_TOKEN environment variable for Gihub API Access	user_transform	FolioClient.py:229
2022-09-20 23:14:36,262	MapperBase initiating	user_transform	mapper_base.py:27
2022-09-20 23:14:36,690	Fetched HRID settings.	user_transform	mapper_base.py:41
2022-09-20 23:14:36,690	Instance HRID prefix is ins	user_transform	mapper_base.py:42
2022-09-20 23:14:36,691	Instance start number is 1	user_transform	mapper_base.py:43
2022-09-20 23:14:36,691	Holdings HRID prefix is ins	user_transform	mapper_base.py:44
2022-09-20 23:14:36,691	Holdings start number is 1	user_transform	mapper_base.py:45
2022-09-20 23:14:36,692	Mapped values:
{
    "notes[0].domain": "users",
    "notes[0].popUpOnCheckOut": true,
    "notes[0].popUpOnUser": true,
    "notes[0].typeId": "c08780d2-71ca-4215-b997-be6e69fc4f2b",
    "notes[1].domain": "users",
    "notes[1].popUpOnCheckOut": true,
    "notes[1].popUpOnUser": true,
    "notes[1].typeId": "c08780d2-71ca-4215-b997-be6e69fc4f2b",
    "notes[2].domain": "users",
    "notes[2].popUpOnCheckOut": true,
    "notes[2].popUpOnUser": true,
    "notes[2].typeId": "c08780d2-71ca-4215-b997-be6e69fc4f2b",
    "personal.addresses[0].primaryAddress": true
}	user_transform	mapping_file_mapper_base.py:66
2022-09-20 23:14:36,693	Statistical codes map is not set up	user_transform	mapping_file_mapper_base.py:83
2022-09-20 23:14:36,693	Mapped legacy fields:
[
    "",
    "USERNAME",
    "HOMEZIP",
    "PATRONID",
    "LASTNAME",
    "NOTE_TITLE",
    "HOMESTATE",
    "FIRSTNAME",
    "HOMECITY",
    "HOMEADDRESS3",
    "NOTE_CONTENT",
    "some_other_note_title",
    "third_note_content",
    "MOBILEPHONE",
    "BARCODE",
    "HOMEADDRESS2",
    "MIDDLE",
    "Not mapped",
    "third_note_title",
    "PHONE",
    "HOMEADDRESS1",
    "some_other_note",
    "TYPE",
    "EMAIL"
]	user_transform	mapping_file_mapper_base.py:97
2022-09-20 23:14:36,694	Mapped FOLIO fields:
[
    "barcode",
    "externalSystemId",
    "legacyIdentifier",
    "patronGroup",
    "personal.addresses[0].addressLine1",
    "personal.addresses[0].addressLine2",
    "personal.addresses[0].addressLine2",
    "personal.addresses[0].city",
    "personal.addresses[0].postalCode",
    "personal.addresses[0].primaryAddress",
    "personal.addresses[0].region",
    "personal.email",
    "personal.firstName",
    "personal.lastName",
    "personal.middleName",
    "personal.mobilePhone",
    "personal.phone",
    "username",
    "notes[0].typeId",
    "notes[0].domain",
    "notes[0].title",
    "notes[0].content",
    "notes[0].popUpOnCheckOut",
    "notes[0].popUpOnUser",
    "notes[1].typeId",
    "notes[1].domain",
    "notes[1].title",
    "notes[1].content",
    "notes[1].popUpOnCheckOut",
    "notes[1].popUpOnUser",
    "notes[2].typeId",
    "notes[2].domain",
    "notes[2].title",
    "notes[2].content",
    "notes[2].popUpOnCheckOut",
    "notes[2].popUpOnUser"
]	user_transform	mapping_file_mapper_base.py:101
2022-09-20 23:14:36,695	Set 18 props used for note mapping	user_transform	notes_mapper.py:40
2022-09-20 23:14:36,695	Initiated mapper for Notes	user_transform	notes_mapper.py:41
2022-09-20 23:14:36,696	usergroups reference data mapping. Initializing	user_transform	ref_data_mapping.py:23
2022-09-20 23:14:36,696	Fetching usergroups reference data from FOLIO	user_transform	ref_data_mapping.py:24
2022-09-20 23:14:37,578	Values from usergroups ref data in FOLIO that are not in the map: ['graduate', 'faculty']	user_transform	ref_data_mapping.py:158
2022-09-20 23:14:37,578	Set undergrad as default usergroups mapping	user_transform	ref_data_mapping.py:56
2022-09-20 23:14:37,578	Loaded 1 mappings for 4 usergroups in FOLIO	user_transform	ref_data_mapping.py:89
2022-09-20 23:14:37,579	loaded 0 hybrid mappings for 4 usergroups in FOLIO	user_transform	ref_data_mapping.py:93
2022-09-20 23:14:37,579	usergroups reference data mapping. Done init	user_transform	ref_data_mapping.py:35
2022-09-20 23:14:37,579	Init done.	user_transform	user_mapper.py:80
2022-09-20 23:14:37,580	Legacy identifier will be mapped from PATRONID	user_transform	user_transformer.py:182
2022-09-20 23:14:37,580	UserTransformer init done	user_transform	user_transformer.py:98
2022-09-20 23:14:37,580	Starting....	user_transform	user_transformer.py:101
2022-09-20 23:14:37,581	processing /home/theodor/code/migration_repo_template/iterations/test_run/source_data/users/staff.tsv	user_transform	user_transformer.py:113
2022-09-20 23:14:37,582	First Legacy  user	user_transform	user_transformer.py:120
2022-09-20 23:14:37,583	{
    "PATRONID": "1",
    "FACSTAFFDATE": "07/14/2022",
    "BARCODE": "123456789",
    "LASTNAME": "Kuragin",
    "FIRSTNAME": "Anatole",
    "MIDDLE": "Vasilyevich",
    "USERNAME": "tolya12",
    "PHONE": "001-1812",
    "MOBILEPHONE": "1800-1812",
    "EMAIL": "tolya@kuragin.ru",
    "HOMEADDRESS1": "Sheremetyev Palace",
    "HOMEADDRESS2": "Main Entrance",
    "HOMEADDRESS3": "Accross the street",
    "HOMECITY": "St. Petersburg",
    "HOMESTATE": "St Peterburg region",
    "HOMEZIP": "11122",
    "TYPE": "STAF",
    "NOTE_TITLE": "Some user...",
    "NOTE_CONTENT": "Not a trustworthy patron",
    "some_other_note": "some other<hr/> note <b>some</b><^>concatenated_note",
    "some_other_note_title": "other note title<^>concatenated_note_title",
    "third_note_title": "third note third_note_title",
    "third_note_content": null
}	user_transform	user_transformer.py:121
2022-09-20 23:14:37,585	fetching current user..	user_transform	FolioClient.py:37
2022-09-20 23:14:38,054	## First FOLIO  user	user_transform	user_transformer.py:130
2022-09-20 23:14:38,055	{
    "active": true,
    "barcode": "123456789",
    "externalSystemId": "tolya12",
    "id": "594e1808-497a-5223-b2e5-634a3f47c6cb",
    "patronGroup": "staff",
    "personal": {
        "addresses": [
            {
                "addressLine1": "Sheremetyev Palace",
                "addressLine2": "Main Entrance Accross the street",
                "addressTypeId": "",
                "city": "St. Petersburg",
                "countryId": "",
                "postalCode": "11122",
                "primaryAddress": true,
                "region": "St Peterburg region"
            }
        ],
        "dateOfBirth": "",
        "email": "tolya@kuragin.ru",
        "firstName": "Anatole",
        "lastName": "Kuragin",
        "middleName": "Vasilyevich",
        "mobilePhone": "1800-1812",
        "phone": "001-1812",
        "preferredContactTypeId": "Email"
    },
    "requestPreference": {
        "delivery": false,
        "holdShelf": true,
        "metadata": {
            "createdByUserId": "02edd871-f83f-5bfb-84c6-ec08c0ab03b6",
            "createdDate": "2022-09-20T21:14:38.052",
            "updatedByUserId": "02edd871-f83f-5bfb-84c6-ec08c0ab03b6",
            "updatedDate": "2022-09-20T21:14:38.052"
        },
        "userId": "594e1808-497a-5223-b2e5-634a3f47c6cb"
    },
    "username": "tolya12"
}	user_transform	user_transformer.py:131
2022-09-20 23:14:38,056	Elapsed time: 0:00:04.141411	user_transform	migration_report.py:75
2022-09-20 23:14:38,057	All done!	user_transform	user_transformer.py:204
2022-09-20 23:14:38,057	Work done, wrapping up	user_transform	__main__.py:98
